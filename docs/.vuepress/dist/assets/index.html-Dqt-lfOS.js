import{_ as h,c as d,d as r,a as s,b as p,e as l,w as a,r as k,o}from"./app-Dee3Lx-_.js";const c="/images/b-software-docker-6.radicale/radicale.png",g="/images/b-software-docker-6.radicale/image-20250821184246845.png",u="/images/b-software-docker-6.radicale/image-20250821185712576.png",m="/images/b-software-docker-6.radicale/image-20250821190844974.png",v={};function y(b,i){const t=k("Tabs");return o(),d("div",null,[i[15]||(i[15]=r('<h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h2><div style="text-align:center;"><img src="'+c+`" alt="radicale.png" style="height:100px;width:auto;max-width:100%;object-fit:contain;"></div><blockquote><p>Docker-Radicale，CalDAV/CardDAV 服务器.</p><p>Docker Hub：<a href="https://hub.docker.com/r/tomsquest/docker-radicale" target="_blank" rel="noopener noreferrer">tomsquest/docker-radicale</a></p><p>Github：<a href="https://github.com/tomsquest/docker-radicale" target="_blank" rel="noopener noreferrer">docker-radicale</a></p></blockquote><h2 id="compose-配置" tabindex="-1"><a class="header-anchor" href="#compose-配置"><span>Compose 配置</span></a></h2><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark has-highlighted vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">3.9</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">services</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  radicale</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    image</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tomsquest/docker-radicale:latest</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    container_name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> radicale</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    ports</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">5232:5232</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    init</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    security_opt</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> no-new-privileges:true</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    cap_drop</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ALL</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    cap_add</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> SETUID</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> SETGID</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> CHOWN</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> KILL</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    deploy</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      resources</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        limits</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">          memory</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 256M</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">          pids</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 50</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    healthcheck</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      test</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> curl -f http://127.0.0.1:5232 || exit 1</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      interval</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 30s</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      retries</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    restart</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> always</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    environment</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line highlighted warning"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      # 禁用容器尝试 chown 数据目录</span></span>
<span class="line highlighted warning"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      TAKE_FILE_OWNERSHIP</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">false</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      UID</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1026</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      GID</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 100</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    volumes</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /volume2/Docker/radicale/data:/data</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container note"><p class="hint-container-title">配置提示</p><ul><li><p>本方案禁用容器尝试 <code>chown</code> 数据目录，自定义详细配置参照 <a href="https://github.com/tomsquest/docker-radicale?tab=readme-ov-file#custom-usergroup-id-for-the-data-volume" target="_blank" rel="noopener noreferrer">Custom User/Group ID for the data volume</a></p></li><li><p>获取用户的UID、GID等信息，使用 <code>id &lt;用户名&gt;</code></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sa6400@SA6400:/$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> id</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sa6400</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">uid</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">1000</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sa6400</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> gid</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">100</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">users</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> groups</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">100</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">users</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></div><h2 id="软件使用" tabindex="-1"><a class="header-anchor" href="#软件使用"><span>软件使用</span></a></h2>`,7)),s("ol",null,[i[6]||(i[6]=r('<li><p>配合 vCards CN**</p><div class="hint-container info"><p class="hint-container-title">GitHub 项目地址：<a href="https://github.com/metowolf/vCards" target="_blank" rel="noopener noreferrer">metowolf/vCards</a></p></div><div class="hint-container tip"><p class="hint-container-title"><a href="https://github.com/metowolf/vCards/pull/232" target="_blank" rel="noopener noreferrer">添加 CardDav 服务器 Radicale 输出格式的支持</a>，只需运行：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">npm</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> run-script</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> radicale</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div></li><li><p><strong>访问网页创建账户</strong></p><p>网址：<code>ip:5232</code> ，并创建 <code>Username</code> 为 <code>cn</code> 和 <code>Password</code> 为 <code>cn</code> 的账户</p><p><img src="'+g+'" alt="image-20250821184246845" width="2880" height="1624"></p></li><li><p><strong>导入 vcard 通讯录</strong></p><p>将 radicale 格式的 <code>.vcf</code> 文件批量复制到 <strong>Docker</strong> 文件夹</p><blockquote><p>路径：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>/volume2/Docker/radicale/data/collections/collection-root/cn</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></blockquote><div class="hint-container info"><p class="hint-container-title">此处的 cn 为创建用户名后自动生成</p></div></li><li><p><strong>刷新网页查看成果</strong></p><p><img src="'+u+'" alt="image-20250821185712576" width="2880" height="1622"></p></li><li><p><strong>群晖反代服务地址</strong></p><p>「控制面板」→「登陆门户」→「高级」→「反向代理服务器」→「新增」</p><p><img src="'+m+'" alt="image-20250821190844974" width="2294" height="1298"></p></li>',5)),s("li",null,[i[4]||(i[4]=s("p",null,[s("strong",null,"手动订阅 CardDAV 服务")],-1)),i[5]||(i[5]=s("ul",null,[s("li",null,[l("服务器："),s("code",null,"vcards.metowolf.com")]),s("li",null,[l("用户名："),s("code",null,"cn")]),s("li",null,[l("密码："),s("code",null,"cn")])],-1)),p(t,{id:"115",data:[{id:"<strong>iOS</strong>"},{id:"<strong>Mac</strong>"}]},{title0:a(({value:e,isActive:n})=>[...i[0]||(i[0]=[s("strong",null,"iOS",-1)])]),title1:a(({value:e,isActive:n})=>[...i[1]||(i[1]=[s("strong",null,"Mac",-1)])]),tab0:a(({value:e,isActive:n})=>[...i[2]||(i[2]=[s("p",null,"「设置」→「通讯录」→「账户」→「添加账户」→「其他」→「添加 CardDAV 账户」",-1),s("p",null,[l("参考："),s("a",{href:"https://support.apple.com/zh-cn/guide/iphone/ipha0d932e96/ios",target:"_blank",rel:"noopener noreferrer"},"官方文档")],-1)])]),tab1:a(({value:e,isActive:n})=>[...i[3]||(i[3]=[s("p",null,"「通讯录」→「设置」→「账户」→「其他通讯录账户」",-1),s("p",null,[l("参考："),s("a",{href:"https://support.apple.com/zh-cn/guide/contacts/adrb7e5aaa2a/mac",target:"_blank",rel:"noopener noreferrer"},"官方文档")],-1)])]),_:1})])]),i[16]||(i[16]=s("h2",{id:"添加计划任务",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#添加计划任务"},[s("span",null,"添加计划任务")])],-1)),s("ul",null,[s("li",null,[i[13]||(i[13]=s("p",null,[s("strong",null,"群晖计划任务")],-1)),i[14]||(i[14]=s("p",null,"「控制面板」→「任务计划」→「新增」→「计划的任务」→「用户定义的脚本」",-1)),p(t,{id:"146",data:[{id:"<strong>常规</strong>"},{id:"<strong>计划</strong>"},{id:"<strong>任务计划</strong>"}]},{title0:a(({value:e,isActive:n})=>[...i[7]||(i[7]=[s("strong",null,"常规",-1)])]),title1:a(({value:e,isActive:n})=>[...i[8]||(i[8]=[s("strong",null,"计划",-1)])]),title2:a(({value:e,isActive:n})=>[...i[9]||(i[9]=[s("strong",null,"任务计划",-1)])]),tab0:a(({value:e,isActive:n})=>[...i[10]||(i[10]=[s("p",null,"任务名称：radicale",-1),s("p",null,"用户账号：user",-1),s("p",null,[s("mark",{class:"important"},"注：与 docker 使用的 UID、GID 对应用户保持一致")],-1)])]),tab1:a(({value:e,isActive:n})=>[...i[11]||(i[11]=[s("p",null,"日期：重复-每天",-1),s("p",null,"时间：开始时间-05:00",-1)])]),tab2:a(({value:e,isActive:n})=>[...i[12]||(i[12]=[s("p",null,"通知设置：空",-1),s("p",null,[l("运行命令："),s("code",null,"bash /volume2/Docker/radicale/update_radicale.sh")],-1)])]),_:1})])])])}const f=h(v,[["render",y]]),D=JSON.parse('{"path":"/article/gb8exokf/","title":"Radicale","lang":"zh-CN","frontmatter":{"title":"Radicale","createTime":"2025/08/20 21:08:18","permalink":"/article/gb8exokf/","tags":["同步","通讯录"],"description":"简介 radicale.png Docker-Radicale，CalDAV/CardDAV 服务器. Docker Hub：tomsquest/docker-radicale Github：docker-radicale Compose 配置 配置提示 本方案禁用容器尝试 chown 数据目录，自定义详细配置参照 Custom User/Group ...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Radicale\\",\\"image\\":[\\"https://powersen.cn/images/b-software-docker-6.radicale/image-20250821184246845.png\\",\\"https://powersen.cn/images/b-software-docker-6.radicale/image-20250821185712576.png\\",\\"https://powersen.cn/images/b-software-docker-6.radicale/image-20250821190844974.png\\"],\\"dateModified\\":null,\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://powersen.cn/article/gb8exokf/"}],["meta",{"property":"og:site_name","content":"Powersen"}],["meta",{"property":"og:title","content":"Radicale"}],["meta",{"property":"og:description","content":"简介 radicale.png Docker-Radicale，CalDAV/CardDAV 服务器. Docker Hub：tomsquest/docker-radicale Github：docker-radicale Compose 配置 配置提示 本方案禁用容器尝试 chown 数据目录，自定义详细配置参照 Custom User/Group ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://powersen.cn/images/b-software-docker-6.radicale/image-20250821184246845.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:tag","content":"通讯录"}],["meta",{"property":"article:tag","content":"同步"}]]},"readingTime":{"minutes":1.89,"words":566},"git":{},"autoDesc":true,"filePathRelative":"blog/3.软件/1.Docker/b-software-docker-6.radicale.md","headers":[],"categoryList":[{"id":"eac9c5","sort":3,"name":"软件"},{"id":"b6a47c","sort":1,"name":"Docker"}]}');export{f as comp,D as data};
